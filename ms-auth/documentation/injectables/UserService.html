<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>ms-auth documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	   <link rel="stylesheet" href="../styles/style.css">
        <link rel="stylesheet" href="../styles/dark.css">
    </head>
    <body>
          <script>
               // Blocking script to avaoid flickering dark mode
               // Dark mode toggle button
               var useDark = window.matchMedia('(prefers-color-scheme: dark)');
               var darkModeState = useDark.matches;
               var $darkModeToggleSwitchers = document.querySelectorAll('.dark-mode-switch input');
               var $darkModeToggles = document.querySelectorAll('.dark-mode-switch');
               var darkModeStateLocal = localStorage.getItem('compodoc_darkmode-state');

               function checkToggle(check) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].checked = check;
                    }
               }

               function toggleDarkMode(state) {
                    if (window.localStorage) {
                         localStorage.setItem('compodoc_darkmode-state', state);
                    }

                    checkToggle(state);

                    const hasClass = document.body.classList.contains('dark');

                    if (state) {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.add('dark');
                         }
                         if (!hasClass) {
                              document.body.classList.add('dark');
                         }
                    } else {
                         for (var i = 0; i < $darkModeToggles.length; i++) {
                              $darkModeToggles[i].classList.remove('dark');
                         }
                         if (hasClass) {
                              document.body.classList.remove('dark');
                         }
                    }
               }

               useDark.addEventListener('change', function (evt) {
                    toggleDarkMode(evt.matches);
               });
               if (darkModeStateLocal) {
                    darkModeState = darkModeStateLocal === 'true';
               }
               toggleDarkMode(darkModeState);

               if ($darkModeToggles.length > 0) {
                    for (var i = 0; i < $darkModeToggleSwitchers.length; i++) {
                         $darkModeToggleSwitchers[i].addEventListener('change', function (event) {
                              darkModeState = !darkModeState;
                              toggleDarkMode(darkModeState);
                         });
                    }
               }
          </script>

        <div class="navbar navbar-default navbar-fixed-top d-block d-sm-none">
            <a href="../" class="navbar-brand">ms-auth documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content injectable">
                   <div class="content-data">








<ol class="breadcrumb">
  <li class="breadcrumb-item">Injectables</li>
  <li class="breadcrumb-item" >UserService</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="nav-item">
            <a href="#info" 
                class="nav-link"
                class="nav-link active"
                role="tab" id="info-tab" data-bs-toggle="tab" data-link="info">Info</a>
        </li>
        <li class="nav-item">
            <a href="#source" 
                class="nav-link"
                
                role="tab" id="source-tab" data-bs-toggle="tab" data-link="source">Source</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="info">
        <p class="comment">
            <h3>File</h3>
        </p>
        <p class="comment">
            <code>src/user/user.service.ts</code>
        </p>





            <section data-compodoc="block-index">
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#__getAdminPayloadForEdit" >__getAdminPayloadForEdit</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#__getKidPayloadForEdit" >__getKidPayloadForEdit</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#__getParentPayloadForEdit" >__getParentPayloadForEdit</a>
                            </li>
                            <li>
                                    <span class="modifier">Private</span>
                                <a href="#__getPayloadForEdit" >__getPayloadForEdit</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#addkidToGroup" >addkidToGroup</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createLinkTokenCreationAsso" >createLinkTokenCreationAsso</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#createUsers" >createUsers</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAllUsersByAsso" >getAllUsersByAsso</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAllUsersByGroupId" >getAllUsersByGroupId</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAllUsersByRelation" >getAllUsersByRelation</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getAllUsersKidByAsso" >getAllUsersKidByAsso</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getEmailByUserId" >getEmailByUserId</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getKidsNamesByGroupId" >getKidsNamesByGroupId</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getUserByEmail" >getUserByEmail</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getUserById" >getUserById</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#getUserConnected" >getUserConnected</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#hash" >hash</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#hasUserById" >hasUserById</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#newUserKid" >newUserKid</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#newUserParent" >newUserParent</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#newUserParentAdmin" >newUserParentAdmin</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#removeKidToGroup" >removeKidToGroup</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#sendEmailCreationAccount" >sendEmailCreationAccount</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#sendEmailCreationAsso" >sendEmailCreationAsso</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#sendEmailParentsByGroup_EventEdit" >sendEmailParentsByGroup_EventEdit</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#sendEmailParentsByGroup_groupHasBeenAdded" >sendEmailParentsByGroup_groupHasBeenAdded</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#setUser" >setUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#setUserRole" >setUserRole</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#toekncreateLinkTokenCreationAccount" >toekncreateLinkTokenCreationAccount</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#updatePasswordUser" >updatePasswordUser</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#userDelete" >userDelete</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#userEditConnected" >userEditConnected</a>
                            </li>
                            <li>
                                    <span class="modifier">Async</span>
                                <a href="#userParentAdminEdit" >userParentAdminEdit</a>
                            </li>
                        </ul>
                    </td>
                </tr>





        </tbody>
    </table>
</section>

            <section data-compodoc="block-constructor">
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(userModel: <a href="../classes/User.html" target="_self">Model&lt;UserDocument&gt;</a>, authService: <a href="../injectables/AuthService.html" target="_self">AuthService</a>, natsMessengerService: <a href="../injectables/NatsMessengerService.html" target="_self">NatsMessengerService</a>)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="18" class="link-to-prism">src/user/user.service.ts:18</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>userModel</td>
                                                  
                                                        <td>
                                                                        <code><a href="../classes/User.html" target="_self" >Model&lt;UserDocument&gt;</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>authService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/AuthService.html" target="_self" >AuthService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>natsMessengerService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/NatsMessengerService.html" target="_self" >NatsMessengerService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

            <section data-compodoc="block-methods">
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="__getAdminPayloadForEdit"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>__getAdminPayloadForEdit</b></span>
                        <a href="#__getAdminPayloadForEdit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>__getAdminPayloadForEdit(body: <a href="../classes/CreateUserDto.html" target="_self">CreateUserDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="614"
                                    class="link-to-prism">src/user/user.service.ts:614</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns the payload for editing an admin user.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>body</td>
                                            <td>
                                                            <code><a href="../classes/CreateUserDto.html" target="_self" >CreateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>CreateUserDto containing admin user data</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#adminEditInterface" target="_self" >adminEditInterface</a></code>

                        </div>
                            <div class="io-description">
                                <p>Payload for editing admin user</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="__getKidPayloadForEdit"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>__getKidPayloadForEdit</b></span>
                        <a href="#__getKidPayloadForEdit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>__getKidPayloadForEdit(body: <a href="../classes/CreateUserDto.html" target="_self">CreateUserDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="598"
                                    class="link-to-prism">src/user/user.service.ts:598</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns the payload for editing a kid user.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>body</td>
                                            <td>
                                                            <code><a href="../classes/CreateUserDto.html" target="_self" >CreateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>CreateUserDto containing kid user data</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#kidEditInterface" target="_self" >kidEditInterface</a></code>

                        </div>
                            <div class="io-description">
                                <p>Payload for editing kid user</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="__getParentPayloadForEdit"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>__getParentPayloadForEdit</b></span>
                        <a href="#__getParentPayloadForEdit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>__getParentPayloadForEdit(body: <a href="../classes/CreateUserDto.html" target="_self">CreateUserDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="579"
                                    class="link-to-prism">src/user/user.service.ts:579</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns the payload for editing a parent user.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>body</td>
                                            <td>
                                                            <code><a href="../classes/CreateUserDto.html" target="_self" >CreateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>CreateUserDto containing parent user data</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../miscellaneous/typealiases.html#parentEditInterface" target="_self" >parentEditInterface</a></code>

                        </div>
                            <div class="io-description">
                                <p>Payload for editing parent user</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="__getPayloadForEdit"></a>
                    <span class="name">
                            <span class="modifier">Private</span>
                        <span ><b>__getPayloadForEdit</b></span>
                        <a href="#__getPayloadForEdit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>__getPayloadForEdit(body: <a href="../classes/CreateUserDto.html" target="_self">CreateUserDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="560"
                                    class="link-to-prism">src/user/user.service.ts:560</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Returns the payload for editing a user based on their type.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>body</td>
                                            <td>
                                                            <code><a href="../classes/CreateUserDto.html" target="_self" >CreateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>CreateUserDto containing user data</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>parentEditInterface | kidEditInterface</code>

                        </div>
                            <div class="io-description">
                                <p>Payload for editing user based on type (parent or kid)</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="addkidToGroup"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>addkidToGroup</b></span>
                        <a href="#addkidToGroup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>addkidToGroup(groupId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, kidId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="488"
                                    class="link-to-prism">src/user/user.service.ts:488</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Add a kid to a group</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>groupId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>group id</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>kidId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>unknown</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createLinkTokenCreationAsso"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>createLinkTokenCreationAsso</b></span>
                        <a href="#createLinkTokenCreationAsso"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createLinkTokenCreationAsso(email: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="215"
                                    class="link-to-prism">src/user/user.service.ts:215</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p> Creates a link with a token in the email for creating a parent admin (registration).</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>email</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>user email address</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;string&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="createUsers"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>createUsers</b></span>
                        <a href="#createUsers"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>createUsers(data: <a href="../classes/CreateUserDto.html" target="_self">CreateUserDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="55"
                                    class="link-to-prism">src/user/user.service.ts:55</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Create users including user (type kid) + user(type parent) + relation + email invitation</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="../classes/CreateUserDto.html" target="_self" >CreateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>CreateUserDto</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../interfaces/getUsersCreatedInterface.html" target="_self" >Promise&lt;getUsersCreatedInterface&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAllUsersByAsso"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getAllUsersByAsso</b></span>
                        <a href="#getAllUsersByAsso"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAllUsersByAsso(assoId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="231"
                                    class="link-to-prism">src/user/user.service.ts:231</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p> Displays the list of all users by association ID</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>assoId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>association ID</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAllUsersByGroupId"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getAllUsersByGroupId</b></span>
                        <a href="#getAllUsersByGroupId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAllUsersByGroupId(groupId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="447"
                                    class="link-to-prism">src/user/user.service.ts:447</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieve all the users from a group ID</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>groupId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>group ID</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;string[]&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAllUsersByRelation"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getAllUsersByRelation</b></span>
                        <a href="#getAllUsersByRelation"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAllUsersByRelation(kidsIds: string[])</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="464"
                                    class="link-to-prism">src/user/user.service.ts:464</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieve all the users by relation</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>kidsIds</td>
                                            <td>
                                                        <code>string[]</code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>array of kid ids</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getAllUsersKidByAsso"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getAllUsersKidByAsso</b></span>
                        <a href="#getAllUsersKidByAsso"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getAllUsersKidByAsso(assoId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="244"
                                    class="link-to-prism">src/user/user.service.ts:244</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p> Retrieves the list of all kids by association ID</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>assoId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>association ID</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument[]&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getEmailByUserId"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getEmailByUserId</b></span>
                        <a href="#getEmailByUserId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getEmailByUserId(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="435"
                                    class="link-to-prism">src/user/user.service.ts:435</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieve the email address of the user with their ID</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>user ID</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getKidsNamesByGroupId"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getKidsNamesByGroupId</b></span>
                        <a href="#getKidsNamesByGroupId"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getKidsNamesByGroupId(groupId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="631"
                                    class="link-to-prism">src/user/user.service.ts:631</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieves the names and IDs of kids in a specified group.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>groupId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>ID of the group</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>unknown</code>

                        </div>
                            <div class="io-description">
                                <p>An array of objects containing kid&#39;s first name, last name, and ID</p>

                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserByEmail"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getUserByEmail</b></span>
                        <a href="#getUserByEmail"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getUserByEmail(email: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="42"
                                    class="link-to-prism">src/user/user.service.ts:42</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieve a user by their email.l</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>email</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>user email address</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserById"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getUserById</b></span>
                        <a href="#getUserById"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getUserById(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="279"
                                    class="link-to-prism">src/user/user.service.ts:279</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieve an user with their id</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>user ID</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getUserConnected"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>getUserConnected</b></span>
                        <a href="#getUserConnected"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>getUserConnected(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="403"
                                    class="link-to-prism">src/user/user.service.ts:403</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Retrieve the user connected</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>user ID</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hash"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>hash</b></span>
                        <a href="#hash"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>hash(data: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="31"
                                    class="link-to-prism">src/user/user.service.ts:31</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Password hashing function.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>password to hash</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;string&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="hasUserById"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>hasUserById</b></span>
                        <a href="#hasUserById"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>hasUserById(id: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="292"
                                    class="link-to-prism">src/user/user.service.ts:292</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Checks if a user exists by their ID</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>id</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>user ID</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;boolean&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="newUserKid"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>newUserKid</b></span>
                        <a href="#newUserKid"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>newUserKid(data: <a href="../classes/CreateUserDto.html" target="_self">CreateUserDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="95"
                                    class="link-to-prism">src/user/user.service.ts:95</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Creation user (type kid)</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="../classes/CreateUserDto.html" target="_self" >CreateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>CreateUserDto</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="newUserParent"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>newUserParent</b></span>
                        <a href="#newUserParent"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>newUserParent(data: <a href="../classes/CreateUserDto.html" target="_self">CreateUserDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="114"
                                    class="link-to-prism">src/user/user.service.ts:114</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p> Creation user (type parent user) (when kid is created at the same time)</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="../classes/CreateUserDto.html" target="_self" >CreateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>CreateUserDto (we retrieve only the email address )</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="newUserParentAdmin"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>newUserParentAdmin</b></span>
                        <a href="#newUserParentAdmin"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>newUserParentAdmin(data: <a href="../undefineds/parentAdminCreateInterface.html" target="_self">parentAdminCreateInterface</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="172"
                                    class="link-to-prism">src/user/user.service.ts:172</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p> Creation of a new user type parent (admin) (inscription)</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>data</td>
                                            <td>
                                                            <code><a href="../miscellaneous/typealiases.html#parentAdminCreateInterface" target="_self" >parentAdminCreateInterface</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>parentAdminCreateInterface</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;any&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="removeKidToGroup"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>removeKidToGroup</b></span>
                        <a href="#removeKidToGroup"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>removeKidToGroup(kidId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, groupId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="505"
                                    class="link-to-prism">src/user/user.service.ts:505</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>remove a kid from a group</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>kidId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                        <tr>
                                                <td>groupId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>group id</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>unknown</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendEmailCreationAccount"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>sendEmailCreationAccount</b></span>
                        <a href="#sendEmailCreationAccount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>sendEmailCreationAccount(email: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="142"
                                    class="link-to-prism">src/user/user.service.ts:142</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p> Sends an email upon the creation of a parent profile and creates a link with a token.</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>email</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>Email address of the created user.</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendEmailCreationAsso"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>sendEmailCreationAsso</b></span>
                        <a href="#sendEmailCreationAsso"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>sendEmailCreationAsso(email: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="199"
                                    class="link-to-prism">src/user/user.service.ts:199</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p> Sends email in order to finalize the creation of an association</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>email</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>user email address</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendEmailParentsByGroup_EventEdit"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>sendEmailParentsByGroup_EventEdit</b></span>
                        <a href="#sendEmailParentsByGroup_EventEdit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>sendEmailParentsByGroup_EventEdit(parentsGroupList: <a href="../classes/User.html" target="_self">UserDocument[]</a>, groupId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="541"
                                    class="link-to-prism">src/user/user.service.ts:541</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>send email to all parents of a group when the group is updated</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>parentsGroupList</td>
                                            <td>
                                                            <code><a href="../classes/User.html" target="_self" >UserDocument[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                        <tr>
                                                <td>groupId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>group id</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>unknown</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="sendEmailParentsByGroup_groupHasBeenAdded"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>sendEmailParentsByGroup_groupHasBeenAdded</b></span>
                        <a href="#sendEmailParentsByGroup_groupHasBeenAdded"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>sendEmailParentsByGroup_groupHasBeenAdded(parentsGroupList: <a href="../classes/User.html" target="_self">UserDocument[]</a>, groupId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="522"
                                    class="link-to-prism">src/user/user.service.ts:522</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>send email to all parents of a group when the group was created</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>parentsGroupList</td>
                                            <td>
                                                            <code><a href="../classes/User.html" target="_self" >UserDocument[]</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                        <tr>
                                                <td>groupId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>group id</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>unknown</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>setUser</b></span>
                        <a href="#setUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setUser(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, body: <a href="../classes/CreateUserDto.html" target="_self">CreateUserDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="310"
                                    class="link-to-prism">src/user/user.service.ts:310</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Modification of an user</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>body</td>
                                            <td>
                                                            <code><a href="../classes/CreateUserDto.html" target="_self" >CreateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="setUserRole"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>setUserRole</b></span>
                        <a href="#setUserRole"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>setUserRole(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, body: <a href="../interfaces/assoUserEditInterface.html" target="_self">assoUserEditInterface</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="357"
                                    class="link-to-prism">src/user/user.service.ts:357</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Modification of an user role</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>user ID</li>
</ul>

                                            </td>
                                        </tr>
                                        <tr>
                                                <td>body</td>
                                            <td>
                                                            <code><a href="../interfaces/assoUserEditInterface.html" target="_self" >assoUserEditInterface</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>unknown</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="toekncreateLinkTokenCreationAccount"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>toekncreateLinkTokenCreationAccount</b></span>
                        <a href="#toekncreateLinkTokenCreationAccount"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>toekncreateLinkTokenCreationAccount(email: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="156"
                                    class="link-to-prism">src/user/user.service.ts:156</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Creation of a personalised link with token for the creation of parent user</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>email</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>email address of user created</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;string&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="updatePasswordUser"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>updatePasswordUser</b></span>
                        <a href="#updatePasswordUser"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>updatePasswordUser(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, body: <a href="../classes/passwordDto.html" target="_self">passwordDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="668"
                                    class="link-to-prism">src/user/user.service.ts:668</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Modification user&#39;password</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>body</td>
                                            <td>
                                                            <code><a href="../classes/passwordDto.html" target="_self" >passwordDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userDelete"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>userDelete</b></span>
                        <a href="#userDelete"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>userDelete(user: <a href="../classes/IdDto.html" target="_self">IdDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="391"
                                    class="link-to-prism">src/user/user.service.ts:391</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Delete an user with their ID</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>user</td>
                                            <td>
                                                            <code><a href="../classes/IdDto.html" target="_self" >IdDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>user ID</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>    <code>Promise&lt;void&gt;</code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userEditConnected"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>userEditConnected</b></span>
                        <a href="#userEditConnected"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>userEditConnected(body: <a href="../classes/CreateUserDto.html" target="_self">CreateUserDto</a>, userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="418"
                                    class="link-to-prism">src/user/user.service.ts:418</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Modify the user connected</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                                <td>Description</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>body</td>
                                            <td>
                                                            <code><a href="../classes/CreateUserDto.html" target="_self" >CreateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                            </td>
                                        </tr>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                            <td>
                                                    <ul>
<li>user ID</li>
</ul>

                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="userParentAdminEdit"></a>
                    <span class="name">
                            <span class="modifier">Async</span>
                        <span ><b>userParentAdminEdit</b></span>
                        <a href="#userParentAdminEdit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
                        <span class="modifier-icon icon ion-ios-reset"></span>
                    <code>userParentAdminEdit(userId: <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank">string</a>, body: <a href="../classes/CreateUserDto.html" target="_self">CreateUserDto</a>)</code>
                </td>
            </tr>


                    <tr>
                        <td class="col-md-4">
                            <div class="io-line">Defined in <a href="" data-line="334"
                                    class="link-to-prism">src/user/user.service.ts:334</a></div>
                        </td>
                    </tr>


            <tr>
                <td class="col-md-4">
                        <div class="io-description"><p>Modification of an user admin</p>
</div>

                            <div class="io-description">
                                <b>Parameters :</b>
                                
                                <table class="params">
                                    <thead>
                                        <tr>
                                            <td>Name</td>
                                                <td>Type</td>
                                            <td>Optional</td>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                                <td>userId</td>
                                            <td>
                                                            <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                        <tr>
                                                <td>body</td>
                                            <td>
                                                            <code><a href="../classes/CreateUserDto.html" target="_self" >CreateUserDto</a></code>
                                            </td>

                                            <td>
                                                    No
                                            </td>


                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                        <div class="io-description">
                            <b>Returns : </b>        <code><a href="../classes/User.html" target="_self" >Promise&lt;UserDocument&gt;</a></code>

                        </div>
                            <div class="io-description">
                                
                            </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>

    </div>


    <div class="tab-pane fade  tab-source-code" id="source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import { adminEditInterface, assoUserEditInterface, getUsersCreatedInterface, kidEditInterface, parentAdminCreateInterface, parentEditInterface } from &#x27;./interface/userRes.interface&#x27;
import { BadRequestException, Inject, Injectable, NotFoundException, forwardRef } from &#x27;@nestjs/common&#x27;
import { RoleUserEnum, TypeUserEnum } from &#x27;./Enum/user.enum&#x27;
import { NatsMessengerService } from &#x27;@app/nats-messenger&#x27;
import { CreateUserDto } from &#x27;./Dto/createUser.dto&#x27;
import { UserDocument } from &#x27;./Schema/user.schema&#x27;
import { AuthService } from &#x27;src/auth/auth.service&#x27;
import { InjectModel } from &#x27;@nestjs/mongoose&#x27;
import { IdDto } from &#x27;./Dto/id.dto&#x27;
import { Model } from &#x27;mongoose&#x27;
import * as bcrypt from &#x27;bcrypt&#x27;
import { ResponseErrorInterface, ResponseSuccessInterface } from &#x27;./interface/response.interface&#x27;
import { passwordDto } from &#x27;./Dto/password.dto&#x27;

// Service responsible for USER related operations
@Injectable()
export class UserService {
    constructor(
      @InjectModel(&#x27;User&#x27;)
      private userModel: Model&lt;UserDocument&gt;,
      @Inject(forwardRef(() &#x3D;&gt; AuthService))
      private authService: AuthService,
      private readonly natsMessengerService: NatsMessengerService,
    ) { }

    /**
     * Password hashing function.
     * @param data - password to hash
     */
    async hash(data: string): Promise&lt;string&gt; {
      const hash &#x3D; await bcrypt.hash(data, await bcrypt.genSalt())
      const password &#x3D; data &#x3D; hash
      return password
    }

    /**
     * Retrieve a user by their email.l 
     * @param email - user email address 
     * @review &#x3D;&gt; oK 
     */ 
    async getUserByEmail(email: string): Promise&lt;UserDocument&gt; {
      try {
        return await this.userModel.findOne({ email: email.toLowerCase() })
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Create users including user (type kid) + user(type parent) + relation + email invitation
     * @param data - CreateUserDto 
     * @review &#x3D;&gt; oK 
     */ 
    async createUsers(data: CreateUserDto): Promise&lt;getUsersCreatedInterface&gt; {
      try {
        // Check the type of user to create 
        const IsKidType &#x3D; data.type
        if (IsKidType !&#x3D; TypeUserEnum.Kid) throw new NotFoundException(&#x27;Mauvais type renseigné&#x27;)

        // Check if the group ID is provided
        if (!data.group_id) throw new NotFoundException(&#x27;Pas de groupe renseigné&#x27;)

        // Create a new user type kid 
        const newKid &#x3D; await this.newUserKid(data)

        // Create a new user type parent
        const newParent &#x3D; await this.newUserParent(data)

        //Create relation parent-kid-asso 
        if (newKid &amp;&amp; newParent) {
          return this.natsMessengerService.send(
            &#x27;CREATE_RELATION&#x27;,
            {
              fromRef_id: newKid.id,
              toRef_id: newParent._id.toString(),
              link: TypeUserEnum.Kid,
              asso_id: data.asso_id
            }
          )
        }
        return {
          newKid,
          newParent
        }
      } catch (error) {
        throw new NotFoundException(&#x27;Utilisateurs non créés&#x27;)
      }
    }

    /**
     * Creation user (type kid)
     * @param data - CreateUserDto 
     */
    async newUserKid(data: CreateUserDto): Promise&lt;UserDocument&gt; {
      try {
        //creation of new user 
        const newKid &#x3D; await this.userModel.create({
          ...data,
          email: &quot;&quot;
        })
        //add kid to group
        await this.addkidToGroup(data.group_id, newKid._id)
        return newKid
      } catch (error) {
        throw new NotFoundException(&#x27;Enfant non créé&#x27;)
      }
    }

    /**
     *  Creation user (type parent user) (when kid is created at the same time)
     * @param data - CreateUserDto (we retrieve only the email address )
     */
    async newUserParent(data: CreateUserDto): Promise&lt;UserDocument&gt; {
      try {
        //Creation new user type (parent)
        const newParent &#x3D; await this.userModel.create({
          type: TypeUserEnum.Parent,
          isActive: false,
          email: data.email,
          associations: [{
            _id: data.asso_id,
            role: RoleUserEnum.User
          }]
        })
    
        //Send invitation email to parent 
        if (newParent) {
        this.sendEmailCreationAccount(newParent.email)
        }
        return newParent
        
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     *  Sends an email upon the creation of a parent profile and creates a link with a token.
     * @param email -  Email address of the created user.
     */
    async sendEmailCreationAccount(email: string) {
      try {
        //create new link with token 
        const linkToken &#x3D; await this.toekncreateLinkTokenCreationAccount(email);
        this.natsMessengerService.emitEmailCreationAccount(email, linkToken);      
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Creation of a personalised link with token for the creation of parent user 
     * @param email - email address of user created 
     */
    async toekncreateLinkTokenCreationAccount(email: string): Promise&lt;string&gt;{
      //Cration of authtoken with email address 
      const newAuthToken &#x3D; await this.authService.createAuthToken(email)
      console.log(&quot;🚀 ~ file: user.service.ts:157 ~ UserService ~ createLinkTokenCreationAccount ~ newAuthToken:&quot;, newAuthToken)
      try {
        //return the link with token
        return &#x60;${process.env.PREFIX_URI}/auth/confirm-profile/${newAuthToken.token}&#x60;
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     *  Creation of a new user type parent (admin) (inscription)
     * @param data - parentAdminCreateInterface 
     */
    async newUserParentAdmin(data: parentAdminCreateInterface): Promise&lt;any&gt; {
      try {
        console.log(&quot;🚀 ~ file: user.service.ts:170 ~ UserService ~ newUserParentAdmin ~ data:&quot;, data)
        
          //hash the new password 
          // console.log(&quot;🚀 ~ file: user.service.ts:175 ~ UserService ~ newUserParentAdmin ~ hashedPassword:&quot;, hashedPassword)
          //creation of an user admin with provided datas 
          const newParentAdmin &#x3D; await this.userModel.create({
                  ...data,
                  type: TypeUserEnum.Parent, 
                })
            console.log(&quot;🚀 ~ file: user.service.ts:181 ~ UserService ~ newUserParentAdmin ~ newParentAdmin:&quot;, newParentAdmin)
            //sends email once user created 
            // if (newParentAdmin &amp;&amp; TypeUserEnum.Parent) {
            await this.sendEmailCreationAsso(newParentAdmin.email)
            // }
            // return newParentAdmin
          
      } catch (error) {
        throw new NotFoundException(error)
      }
    }
    
    /**
     *  Sends email in order to finalize the creation of an association  
     * @param email - user email address 
     */
    async sendEmailCreationAsso(email: string) {
      console.log(&quot;🚀 ~ file: user.service.ts:198 ~ UserService ~ sendEmailCreationAsso ~ email:&quot;, email)
      try {
        //create new link with token using the email address of the user la focntion createLinkTokenCreationAccount renvoit 
        // ce lien &#x60;${process.env.PREFIX_URI}/auth/confirm-profile/${newAuthToken.token}
        const linkToken &#x3D; await this.toekncreateLinkTokenCreationAccount(email);
        this.natsMessengerService.emitEmailCreationAccount(email, linkToken);
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     *  Creates a link with a token in the email for creating a parent admin (registration).
     * @param email - user email address 
     */
    async createLinkTokenCreationAsso(email: string):Promise&lt;string&gt; {
      // Create an authentication token 
      const newAuthToken &#x3D; await this.authService.createAuthToken(email)
      try {
        // Return the link with the token
        return &#x60;${process.env.PREFIX_URI}/auth/create-asso/${newAuthToken.token}&#x60;
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     *  Displays the list of all users by association ID
     * @param assoId - association ID  
     * @review &#x3D;&gt; ok
     */
    async getAllUsersByAsso(assoId: string): Promise&lt;UserDocument[]&gt; {
      try {
        return await this.userModel.find({ &quot;associations._id&quot;: assoId })
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     *  Retrieves the list of all kids by association ID
     * @param assoId - association ID  
     * @review &#x3D;&gt; ok
     */
    async getAllUsersKidByAsso(assoId : string): Promise&lt;UserDocument[]&gt; {
      try {
        //retrieve all groups from the association using NATS  
        const allGroupsByAsso &#x3D; await this.natsMessengerService.send(
          &#x27;GET_GROUPS_BY_ASSO_ID&#x27;,
          assoId
          )
        
        // Get all group IDs of the association
        const groupIds &#x3D; allGroupsByAsso.map(group &#x3D;&gt; group._id)
          
        const kidsListByAsso &#x3D; []
        
        // Get all kids from the groups
        for (const groupId of groupIds) {
          const allKidsFromOneGroup &#x3D; await this.natsMessengerService.send(
            &#x27;INDEX_USERS_BY_GROUP&#x27;,
            groupId
          )
          if(allKidsFromOneGroup) {
            kidsListByAsso.push(allKidsFromOneGroup)
          }
        }
            
          return kidsListByAsso
        } catch (error) {
          throw new NotFoundException(error)
        }
    }

    /**
     * Retrieve an user with their id 
     * @param id - user ID  
     * @review &#x3D; ok
     */
    async getUserById(id: string): Promise&lt;UserDocument&gt; {
      try {
        return await this.userModel.findById(id);
      } catch (error) {
        throw new NotFoundException(error) 
      }
    }

    /**
     * Checks if a user exists by their ID
     * @param id - user ID  
     * @review &#x3D;&gt; ok
     */
    async hasUserById(id: string): Promise&lt;boolean&gt;{
      try {
        return await this.userModel.countDocuments({ _id: id }) &gt;&#x3D; 1 ? true : false;
      // if (!throwError) 
      // return exist;
      // throw new BadRequestException(&#x27;User not found&#x27;)
        
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Modification of an user 
     * @param id - user ID 
     * @body CreateUserDto 
     * @review &#x3D;&gt; ok
     */
    async setUser(userId: string, body: CreateUserDto): Promise&lt;UserDocument&gt; {
      try {
        // Hash the provided password
        body.password &#x3D; await this.hash(body.password)
        // Update the user with the edited data
        const userUdapted &#x3D;  await this.userModel.findByIdAndUpdate(
          userId,
          this.__getPayloadForEdit(body),
          { new: true }
        )
        // Clear the password from the returned user object
        userUdapted.password &#x3D; &quot;&quot;;
        return userUdapted;
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Modification of an user admin
     * @param id - user ID 
     * @body CreateUserDto 
     * @review &#x3D;&gt; ok
     */
    async userParentAdminEdit(userId: string, body: CreateUserDto): Promise&lt;UserDocument&gt; {
      try {
        // Hash the provided password
        body.password &#x3D; await this.hash(body.password)
        // Update the user with the edited data
        const userUdapted &#x3D;  await this.userModel.findByIdAndUpdate(
          userId,
          this.__getAdminPayloadForEdit(body),
          { new: true }
        )
        // Clear the password from the returned user object
        userUdapted.password &#x3D; &quot;&quot;;
        return userUdapted;
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Modification of an user role
     * @param userId - user ID 
     * @body assoUserEditInterface
     */
    async setUserRole(userId : string, body: assoUserEditInterface) {
      try {
        // Get the user by their ID
        const thisUser &#x3D; await this.getUserById(userId) 
    
        // Find the index of an association with an empty ID in the associations array
        const indexToUpdate &#x3D; thisUser.associations.findIndex((assoc) &#x3D;&gt; assoc.id &#x3D;&#x3D;&#x3D; &#x27;&#x27;);
      
        if (indexToUpdate !&#x3D;&#x3D; -1) {
          // If an association with an empty ID is found, replace it with the data from the body
          thisUser.associations[indexToUpdate] &#x3D; body;
        } else {
          // Otherwise, check if the association already exists
          const existingAssociation &#x3D; thisUser.associations.find((assoc) &#x3D;&gt; assoc.id &#x3D;&#x3D;&#x3D; body.id);
    
          // If the association exists, update only the role
          if (existingAssociation) {
            existingAssociation.role &#x3D; body.role;
          } else {
            // If the association doesn&#x27;t exist, add it to the associations array and save the user
            thisUser.associations.push(body)
            await thisUser.save() 
          }
        }
        return thisUser;
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Delete an user with their ID 
     * @param user - user ID 
     */
    async userDelete(user: IdDto): Promise&lt;void&gt; {
      try {
        return this.userModel.findByIdAndRemove(user.id)
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Retrieve the user connected 
     * @param userId - user ID 
     */
    async getUserConnected(userId: string): Promise&lt;UserDocument&gt; {
      try {
        const userConnected &#x3D; await this.userModel.findById(userId);
        userConnected.password &#x3D; &quot;&quot;;
        return userConnected
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Modify the user connected 
     * @param userId - user ID 
     * @body CreateUserDto 
     */
    async userEditConnected(body: CreateUserDto, userId: string): Promise&lt;UserDocument&gt; {
      try {
        body.password &#x3D; await this.hash(body.password)
        return await this.userModel.findByIdAndUpdate(
          userId,
          body,
          { new: true }
        )
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Retrieve the email address of the user with their ID  
     * @param userId - user ID 
     */
    async getEmailByUserId(userId: string): Promise&lt;UserDocument&gt; {
      try {
        return await this.userModel.findById(userId)
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Retrieve all the users from a group ID 
     * @param groupId - group ID 
     */
    async getAllUsersByGroupId(groupId: string): Promise&lt;string[]&gt; {
      try {
        // Find all users with the specified group ID and retrieve distinct &#x27;_id&#x27; values
        const kidsGroup &#x3D; await this.userModel.find({
          group_id: groupId
        }).distinct(&#x27;_id&#x27;)
        // Convert the distinct &#x27;_id&#x27; values to strings and return the array
        return kidsGroup.map(id &#x3D;&gt; id.toString())
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

     /**
     * Retrieve all the users by relation 
     * @param kidsIds - array of kid ids 
     */
    async getAllUsersByRelation(kidsIds: string[]): Promise&lt;UserDocument[]&gt; {
      try {
        // Fetches the parent IDs associated with the provided list of kid IDs
        const parentIndex_Id &#x3D; await this.natsMessengerService.send(
          &#x27;FETCH_TOREF_LINK_KID&#x27;,
          kidsIds // pour fromRefID (&#x3D; KID ID)
        )
        // Retrieves parent user documents based on the fetched parent IDs
        return await Promise.all(
          parentIndex_Id.map((parentId: string) &#x3D;&gt;
            this.userModel
              .findById(parentId)
          )
        )
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

     /**
     * Add a kid to a group 
     * @param groupId - group id
     * @body kidId - kid id 
     */
    async addkidToGroup(groupId: string, kidId: string) {
      try {
        return await this.natsMessengerService.send(
          &#x27;ADD_KID_TO_GROUP&#x27;,
          {
            body: { kidId, groupId }
          })
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

     /**
     * remove a kid from a group 
     * @param groupId - group id
     * @body kidId - kid id 
     */
    async removeKidToGroup(kidId: string, groupId: string) {
      try {
        return await this.natsMessengerService.send(
          &#x27;REMOVE_KID_TO_GROUP&#x27;, {
          kidId, groupId
        })
      
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * send email to all parents of a group when the group was created 
     * @param groupId - group id
     * @body kidId - kid id 
     */
    async sendEmailParentsByGroup_groupHasBeenAdded(parentsGroupList: UserDocument[], groupId: string) {
      try {
        const eachParents &#x3D; parentsGroupList.map(async (eachParent) &#x3D;&gt; {

          if (!eachParent.email) throw new NotFoundException(&#x27;Pas OK&#x27;)
          await this.natsMessengerService.emitEmailAddedToGroup(eachParent.email)
        })
        return await Promise.all(eachParents)
        
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * send email to all parents of a group when the group is updated 
     * @param groupId - group id
     * @body kidId - kid id 
     */
    async sendEmailParentsByGroup_EventEdit(parentsGroupList: UserDocument[], groupId: string) {
      try {
        const eachParents &#x3D; parentsGroupList.map(async (eachParent) &#x3D;&gt; {

          if (!eachParent.email) throw new NotFoundException(&#x27;Pas OK&#x27;)
          return this.natsMessengerService.emitEmailEventEdited(eachParent.email)
        })
        return await Promise.all(eachParents)
      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Returns the payload for editing a user based on their type.
     * @param body - CreateUserDto containing user data
     * @returns Payload for editing user based on type (parent or kid)
     * @review &#x3D;&gt; ok
     */
    private  __getPayloadForEdit(body: CreateUserDto): parentEditInterface | kidEditInterface {
      // Use a switch statement to determine the type of user based on body.type
      switch (body.type) {
        case TypeUserEnum.Parent: 
        // If the user type is Parent, call __getParentPayloadForEdit
        // and cast the result to parentEditInterface
          return this.__getParentPayloadForEdit(body) as parentEditInterface;
        case TypeUserEnum.Kid: 
        // If the user type is Kid, call __getKidPayloadForEdit
        // and cast the result to kidEditInterface
          return this.__getKidPayloadForEdit(body) as kidEditInterface;
      }
    }

    /**
     * Returns the payload for editing a parent user.
     * @param body - CreateUserDto containing parent user data
     * @returns Payload for editing parent user
     */
    private __getParentPayloadForEdit(body: CreateUserDto): parentEditInterface {
      // Return an object with properties for editing a parent user
      return {
        firstname: body.firstname,
        lastname: body.lastname,
        email: body.email,
        city: body.city,
        address: body.address,
        password: body.password,
        phone: body.phone,
        isActive: true
      }
    }

    /**
     * Returns the payload for editing a kid user.
     * @param body - CreateUserDto containing kid user data
     * @returns Payload for editing kid user
     */
    private __getKidPayloadForEdit(body: CreateUserDto): kidEditInterface {
      // Return an object with properties for editing a kid user
      return {
        firstname: body.firstname,
        lastname: body.lastname,
        comment: body.comment,
        birthday: body.birthday,
        group_id: body.group_id,
      }
    }

    /**
     * Returns the payload for editing an admin user.
     * @param body - CreateUserDto containing admin user data
     * @returns Payload for editing admin user
     */
    private __getAdminPayloadForEdit(body: CreateUserDto): adminEditInterface {
      // Return an object with properties for editing an admin user
      return {
        password: body.password,
        isActive: true,
        associations: [{
        id: &quot;&quot;, // The ID of the association (empty in this case)
        role: RoleUserEnum.Admin // Set the role to Admin
        }]
      }
    }

    /**
     * Retrieves the names and IDs of kids in a specified group.
     * @param groupId - ID of the group
     * @returns An array of objects containing kid&#x27;s first name, last name, and ID
     */
    async getKidsNamesByGroupId(groupId:string) {
      try {
        // Retrieve the group details using its ID through NATS
        const thisGroup &#x3D; await this.natsMessengerService.send(
          &#x27;GET_GROUP_BY_ID&#x27;,
          { params: { id : groupId } }
        )
        
        // Initialize an empty array to store kid names and IDs
        const KidsNames: object[] &#x3D; []

        // Iterate through each kid&#x27;s ID in the group
        for (const kidId of thisGroup.datas.users) {
            // Retrieve kid&#x27;s details using their ID
            const kid &#x3D; await this.getUserById(kidId)
            // Push kid&#x27;s first name, last name, and ID into the KidsNames array
            KidsNames.push({
              firstname: kid.firstname,
              lastname: kid.lastname,
              id: kid._id
              });
          
          }
          // Return the array containing kid&#x27;s names and IDs
          return KidsNames;

      } catch (error) {
        throw new NotFoundException(error)
      }
    }

    /**
     * Modification user&#x27;password
     * @param id - user ID 
     * @body passwordDto 
     * @review &#x3D;&gt; ok
     */
      async updatePasswordUser(userId: string, body: passwordDto): Promise&lt;UserDocument&gt; {
          console.log(&quot;🚀 ~ file: user.service.ts:358 ~ UserService ~ updatePasswordUser ~ body:&quot;, body.confirmPassword)
          console.log(&quot;🚀 ~ file: user.service.ts:358 ~ UserService ~ updatePasswordUser ~ userId:&quot;, userId)

          try {
            if(body.password !&#x3D;&#x3D; body.confirmPassword) throw new BadRequestException(&#x27;Passwords do not match !&#x27;)
          //hash the new password 
          const hashedPassword &#x3D; await bcrypt.hash(body.password, await bcrypt.genSalt())
          console.log(&quot;🚀 ~ file: user.service.ts:676 ~ UserService ~ updatePasswordUser ~ hashedPassword:&quot;, hashedPassword)

            const userPasswordUpadate &#x3D; await this.userModel.findByIdAndUpdate(
              { _id: userId }, 
              { password: hashedPassword }, 
              { new: true }
              )
              return userPasswordUpadate;
          } catch (error) {
            throw new NotFoundException(error)
          }
        }
    

}
</code></pre>
    </div>

</div>













                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

          <label class="dark-mode-switch">
               <input type="checkbox">
               <span class="slider">
                    <svg class="slider-icon" viewBox="0 0 24 24" fill="none" height="20" stroke="#000" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" width="20" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"></path>
                    </svg>
               </span>
          </label>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'injectable';
            var COMPODOC_CURRENT_PAGE_URL = 'UserService.html';
            var MAX_SEARCH_RESULTS = 15;
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>

       <script src="../js/menu-wc.js" defer></script>
       <script nomodule src="../js/menu-wc_es5.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
